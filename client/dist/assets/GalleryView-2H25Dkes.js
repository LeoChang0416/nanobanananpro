import{_ as f,r as m,o as y,c as n,d as a,p as u,t as h,u as r,y as k,z as I,F as w,h as S,A as V,a as o,k as x,q as R}from"./index-dM9ISPj_.js";import{u as z,I as B,a as C}from"./ImageModal-CMqLV39i.js";import"./index-_2kYfvNG.js";const F={class:"gallery-view"},b={class:"main-content"},D={class:"container"},N={class:"gallery-header"},G={class:"count"},M={key:0,class:"loading"},q={key:1,class:"empty"},A={key:2,class:"image-grid"},E={__name:"GalleryView",setup(L){const s=z(),p=V(),c=m(!1),d=m(null),g=t=>{d.value=t,c.value=!0},_=async t=>{if(confirm("ç¡®å®šè¦åˆ é™¤è¿™å¼ å›¾ç‰‡å—ï¼Ÿ"))try{await s.deleteImage(t)}catch{alert("åˆ é™¤å¤±è´¥")}},v=async t=>{const e=(t.urls||[]).map((i,l)=>({preview:i,base64:i,file:null}));s.updateFormState({prompt:t.prompt,aspectRatio:t.aspectRatio,imageSize:t.imageSize,referenceImages:e}),s.saveFormState({prompt:t.prompt,aspectRatio:t.aspectRatio,imageSize:t.imageSize}),p.push("/")};return y(()=>{s.fetchImages()}),(t,e)=>{const i=I("router-link");return o(),n("div",F,[a("main",b,[a("div",D,[a("div",N,[e[1]||(e[1]=a("h1",{class:"title"},"ä½œå“é›†",-1)),a("p",G,"å…± "+h(r(s).images.length)+" å¼ ä½œå“",1)]),r(s).loading?(o(),n("div",M,"åŠ è½½ä¸­...")):r(s).images.length===0?(o(),n("div",q,[e[3]||(e[3]=a("p",{class:"empty-icon"},"ðŸŽ¨",-1)),e[4]||(e[4]=a("p",{class:"empty-text"},"è¿˜æ²¡æœ‰ä½œå“",-1)),u(i,{to:"/",class:"empty-link"},{default:k(()=>[...e[2]||(e[2]=[x("åŽ»åˆ›ä½œ",-1)])]),_:1})])):(o(),n("div",A,[(o(!0),n(w,null,S(r(s).images,l=>(o(),R(C,{key:l.id,image:l,onView:g,onDelete:_,onRegenerate:v},null,8,["image"]))),128))]))])]),u(B,{visible:c.value,image:d.value,onClose:e[0]||(e[0]=l=>c.value=!1)},null,8,["visible","image"])])}}},H=f(E,[["__scopeId","data-v-f1e787c8"]]);export{H as default};
